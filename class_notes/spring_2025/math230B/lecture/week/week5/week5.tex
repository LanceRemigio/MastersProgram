\subsection{Lecture 8}

\begin{theorem}[Rudin 6.4]
    Let \( f: [a,b] \to \R  \) be bounded, \( \alpha : [a,b] \to \R  \) is increasing, \( P  \) is a partition of \( [a,b] \), and \( Q  \) is a refinement of \( P  \). Then
    \begin{enumerate}
        \item[(1)] \( L(f,\alpha,P) \leq L(f,\alpha, Q) \)
        \item[(2)] \( U(f,\alpha, P) \geq U(f,\alpha, Q ) \)
    \end{enumerate}
\end{theorem}
\begin{proof}
Here we will prove (1). The proof of (2) is completely analagous. We proceed via induction on \( \ell = \card (Q \setminus  P )  \) (the number of points in \( Q \setminus  P  \)). Let \( P = \{  {x}_{0}, {x}_{1}, \dots, {x}_{n} \}  \). 

If \( \ell = 0  \), then \( P \subseteq  Q   \) and \( \card Q = \card P  \) implies that \( P = Q  \). Thus, \( L(f,\alpha, P) = L(f,\alpha, Q ) \).

If \( \ell = 1  \), then \( Q  \) has exactly one extra point. Let's call this point \( z  \). So, \( \{ z  \}  = Q \setminus  P  \). Note that \( z \in [a,b] \) and \( P  \) is a partition of \( [a,b] \). Hence, there exists \( 1 \leq i \leq n  \) such that \( z \in ({x}_{i-1}, {x}_{i}) \). Let 
\begin{align*}
    {m}_{i}' &= \inf_{x \in [{x}_{i-1}, z]} f(x)  \\
    {m}_{i}'' &= \inf_{x \in [z,{x}_{i}]} f(x)
\end{align*}
Recall that if \( A \subseteq  B  \), then \( \inf A \geq \inf B  \). Hence, \( {m}_{i}' \geq {m}_{i} \) and \( {m}_{i}'' \geq {m}_{i} \).
We have 
\begin{align*}
    L(f,\alpha, P ) &= \sum_{ k=1  }^{ n } {m}_{k } (\alpha({x}_{k})) \\ 
                    &= \Big[ \sum_{ k \neq i  }^{  } {m}_{k } (\alpha({x}_{k}) - \alpha({x}_{k-1})) \Big] + {m}_{i} (\alpha({x}_{i}) - \alpha(z) + \alpha(z) - \alpha({x}_{i-1})) \\
                    &= \Big[ \sum_{ k \neq i  }^{  } {m}_{k } (\alpha({x}_{k}) - \alpha({x}_{k-1}))  \Big] +  {m}_{i}(\alpha(z) - \alpha({x}_{i-1})) + {m}_{i} (\alpha({x}_{i}) - \alpha(z) ) \\
                    &\leq \Big[\sum_{ k \neq i  }^{  } {m}_{k } (\alpha({x}_{k}) - \alpha({x}_{k-1})) \Big] + {m}_{i}' (\alpha(z) - \alpha({x}_{i-1})) + {m}_{i}''(\alpha({x}_{i}) - \alpha(z)) \\
                    &= L(f,\alpha, Q ).
\end{align*} 
So, we have \( L(f,\alpha,P) \leq L(f,\alpha,Q ) \).

Now, suppose the claim is true for \( \ell = r \geq 1  \). Our goal is to show that the claim holds for \( \ell = r + 1  \). Suppose \( \card (Q \setminus  P ) = r + 1  \). Let
\[  Q \setminus  P = \{  {z}_{1}, {z}_{2}, \dots, {z}_{r}, {z}_{r+1} \}.  \]
Let \( \hat{Q} = P \cup \{ {z}_{1}, {z}_{2}, \dots, {z}_{r} \}  \). We have
\[  L(f,\alpha, P) \leq L(f,\alpha, \hat{Q}) \leq L(f,\alpha, Q ) \]
where the first inequality holds due to our induction hypothesis and the second inequality holds because \( Q \setminus  \hat{Q}  \) contains only one point. So, we have 
\[  L(f,\alpha, P )  \leq L(f,\alpha, Q ).\]
\end{proof}

\begin{theorem}[ ]\label{Theorem 2}
    Let \( f:[a,b] \to \R  \) be a bounded function, \( \alpha: [a,b] \to \R  \) is increasing. Let \( {P}_{1} \) and \( {P}_{2} \) are any two partition of \( [a,b] \). Then 
    \[  L(f,\alpha, {P}_{1}) \leq U(f,\alpha, {P}_{2}). \]
\end{theorem}
\begin{proof}
Let \( Q = {P}_{1} \cup {P}_{2} \) be the common refinement of \( {P}_{1} \) and \( {P}_{2} \). Applying the previous theorem, we can see that \( {P}_{1} \subseteq  {P}_{1} \cup {P}_{2} \) and \( {P}_{2} \subseteq {P}_{1} \cup {P}_{2}   \) implies
\[  L(f,\alpha, {P}_{1}) \leq L(f,\alpha, Q ) \leq U(f,\alpha, Q ) \leq U(f,\alpha, {P}_{2}) \]
\end{proof}

For the following theorem, we will use the lemma below.

\begin{lemma}
    Suppose \( A  \) and \( B  \) are nonempty subsets of \( \R  \). If 
    \[  \forall a \in A \ \forall b \in B \ \ a \leq b  \]
    then \( \sup A \leq \inf B  \).
\end{lemma}

\begin{theorem}[Rudin 6.5]
    Let \( f: [a,b] \to \R  \) be a bounded function and \( \alpha: [a,b] \to \R  \) is an increasing function. Then \( L(f,\alpha) \leq U(f,\alpha) \). 
\end{theorem}
\begin{proof}
Let \( A = \{  L(f,\alpha, P) : P \in \Pi \}  \) and \( B = \{  U(f,\alpha, P) : P \in \Pi \}  \). Using the lemma above and {\hyperref[Theorem 2]{Theorem 2}}, we can see that for all \( a \in A  \) and for all \( b \in B  \), it follows that \( \sup A \leq \inf B  \); that is, \( L(f,\alpha) \leq U(f,\alpha) \).
\end{proof}

\begin{theorem}[Cauchy Criterion for Riemann-Stieltjes Integrability Rudin 6.6]\label{Rudin 6.6}
    Let \( f: [a,b] \to \R  \) be a bounded function, \( \alpha : [a,b] \to \R  \) be an increasing function. Then
    \[  f \in {R}_{\alpha}[a,b] \iff \forall \epsilon > 0 \ \exists {P}_{\epsilon} \in \Pi [a,b] \ \text{such that} \ U(f,\alpha, {P}_{\epsilon}) - L(f,\alpha, {P}_{\epsilon}) < \epsilon.  \]
\end{theorem}
\begin{proof}
    (\( \Longleftarrow \)) Our goal is to show that \( L(f,\alpha) = U(f,\alpha) \). Note that \( L(f,\alpha) \leq U(f,\alpha) \) implies \( U(f,\alpha) - L(f,\alpha) \geq 0  \). Hence, it suffices to show that for all \( \epsilon > 0  \), 
    \[  U(f,\alpha) - L(f,\alpha) < \epsilon. \]
    Let \( \epsilon > 0  \) be given. By assumption, there exists \( {P}_{\epsilon} \in \Pi \) such that 
    \[  U(f,\alpha, {P}_{\epsilon}) - L(f,\alpha, {P}_{\epsilon}) < \epsilon. \]
    We have
    \begin{align*}
        U(f,\alpha) &= \inf_{P \in \Pi} U(f,\alpha,P) \leq U(f,\alpha, {P}_{\epsilon}) \\
        L(f,\alpha) &= \sup_{P \in \Pi} L(f,\alpha,P)  \geq L(f,\alpha, {P}_{\epsilon})
    \end{align*}
    Using {\hyperref[Theorem 3]{Rudin 6.5}}, we can see that 
    \[ L(f,\alpha,{P}_{\epsilon}) \leq L(f,\alpha) \leq U(f,\alpha) \leq U(f,\alpha, {P}_{\epsilon}).  \]
    So, the interval \( [L(f,\alpha), U(f,\alpha)] \) is contained in the interval \( [L(f,\alpha, {P}_{\epsilon}), U(f,\alpha, {P}_{\epsilon})] \). Thus, 
    \[ U(f,\alpha) - L(f,\alpha) \leq U(f,\alpha, {P}_{\epsilon}) - L(f,\alpha, {P}_{\epsilon}) < \epsilon \]
    as desired.
    
    (\( \Longrightarrow \)) Our goal is to show that for any \(  \epsilon > 0  \), there exists a partition \( {P}_{\epsilon} \in \Pi \) such that 
    \[  U(f,\alpha,{P}_{\epsilon}) - L(f,\alpha, {P}_{\epsilon}) < \epsilon.  \]
    Note that 
    \begin{align*}
        U(f,\alpha)  &= \inf_{P \in \Pi} U(f,\alpha, P) \implies \exists {P}_{1} \in \Pi \ \text{such that} \ U(f,\alpha, {P}_{1}) < U(f,\alpha) + \frac{ \epsilon }{ 2 }  \\
        L(f,\alpha) &= \sup_{P \in \Pi} L(f,\alpha,P) \implies \exists {P}_{2} \in \Pi \ \text{such that} \ L(f,\alpha) - \frac{ \epsilon }{ 2 }  < L(f,\alpha, {P}_{2})
    \end{align*}
    Let \( {P}_{\epsilon} = {P}_{1} \cup {P}_{2} \) (we claim that this partition can be used as the one that we were looking for).
    \[  L(f,\alpha) - \frac{ \epsilon }{ 2 }  < L(f,\alpha, {P}_{2}) \leq L(f,\alpha, {P}_{\epsilon}) \leq U(f,\alpha,{P}_{\epsilon}) \leq U(f,\alpha, {P}_{1}) < U(f,\alpha) + \frac{ \epsilon }{ 2 }. \]
    Thus, we have
    \begin{align*}
        U(f,\alpha, {P}_{\epsilon}) - L(f,\alpha, {P}_{\epsilon}) &< \Big[ \Big( U(f,\alpha) + \frac{ \epsilon }{ 2 }  \Big) - \Big(  L(f,\alpha) - \frac{ \epsilon }{ 2 }  \Big) \Big] \\
                                                                  &= U(f,\alpha) - L(f,\alpha) + \epsilon \\
                                                                  &= 0 + \epsilon = \epsilon
    \end{align*}
    as desired.
\end{proof}

\begin{theorem}[Rudin 6.7]\label{Rudin 6.7}
    Let \( f:[a,b] \to \R  \) be a bounded function, \( \alpha:[a,b] \to \R  \) is an increasing function, fix \( \epsilon > 0  \), \( P = \{ {x}_{0}, {x}_{1}, \dots, {x}_{n} \}  \) is a partition of \( [a,b] \), and 
    \[  U(f,\alpha, P) - L(f,\alpha, P) < \epsilon. \]
    Then
    \begin{enumerate}
        \item[(1)] If \( Q  \) is any refinement of \( P  \), then \( U(f,\alpha, Q ) - L(f,\alpha, Q ) < \epsilon \).
        \item[(2)] If for every \( 1 \leq k \leq n  \), \( {t}_{k } \) and \( {s}_{k } \) are arbitrary points in \( [{x}_{k-1}, {x}_{k}] \), then
            \[  \sum_{ k=1  }^{ n } | f({s}_{k}) - f({t}_{k}) | \Delta {\alpha}_{k } < \epsilon. \]
        \item[(3)] If \( f \in {R}_{\alpha}[a,b] \) and for each \( 1 \leq k \leq n  \), \( {s}_{k} \) is a point in \( [{x}_{k-1}, {x}_{k}] \), then
            \[  \Big| \sum_{ k=1  }^{ n } f({s}_{k}) \Delta {\alpha}_{k } - \int_{ a }^{ b } f \ d \alpha \Big|  < \epsilon. \]
    \end{enumerate}
\end{theorem} 
\begin{proof}
\begin{enumerate}
    \item[(1)] We have 
        \[  L(f,\alpha, P) \leq L(f,\alpha, Q ) \leq U(f,\alpha, Q) \leq U(f,\alpha, P). \]
        Therefore, 
        \[  U(f,\alpha, Q ) - L(f,\alpha,Q) \leq U(f,\alpha, P) - U(f,\alpha, P) < \epsilon. \]
    \item[(2)] For each \( 1 \leq k \leq n  \), we have 
        \begin{align*}
            {m}_{k } &\leq f({s}_{k}) \leq {M}_{k} \\
            {m}_{k}&\leq f({t}_{k}) \leq {M}_{k} \implies - {M}_{k } \leq - f({t}_{k}) \leq - {m}_{k}.
        \end{align*}
        So, we have 
        \[  {m}_{k } - {M}_{k } \leq f({s}_{k}) - f({t}_{k}) \leq {M}_{k } - {m}_{k}. \]
        That is, 
        \[  - ({M}_{k } - {m}_{k}) \leq f({s}_{k}) - f({t}_{k}) \leq {M}_{k } - {m}_{k}. \]
        Therefore, 
        \[  | f({s}_{k}) - f({t}_{k})  | \leq {M}_{k } - {m}_{k}. \]
        Hence, we have 
        \[ \sum_{ k=1  }^{ n } | f({s}_{k}) - f({t}_{k}) |  \Delta {\alpha}_{k } \leq \sum_{ k=1  }^{ n } ({M}_{k } - {m}_{k}) \Delta {\alpha}_{k } = U(f,\alpha, P) - L(f,\alpha,P) < \epsilon. \]
    \item[(3)] For all \( 1 \leq k \leq n  \), we have 
        \[  {m}_{k } \leq f({s}_{k}) \leq {M}_{k }. \]
        So, 
        \[  \sum_{ k=1  }^{ n } {m}_{k } \Delta {\alpha}_{k } \leq \sum_{ k=1  }^{ n } f({s}_{k}) \Delta {\alpha}_{k } \leq \sum_{ k=1  }^{ n } {M}_{k } \Delta {\alpha}_{k }. \]
        Therefore, 
        \[  L(f,\alpha, P) \leq \sum_{ k=1  }^{ n } f({s}_{k}) \leq U(f,\alpha,P) \tag{I} \]
        Also, note that 
        \[  L(f,\alpha,P) \leq \int_{ a }^{ b }  f  \ d \alpha \leq U(f,\alpha, P). \tag{II} \]
        Hence,
        \[  \Big| \sum_{ k=1  }^{ n } f({s}_{k}) \Delta {\alpha}_{k } - \int_{ a }^{ b }  f \ d \alpha \Big|  \leq U(f,\alpha, P) - L(f,\alpha, P) < \epsilon \]
        as desired.
\end{enumerate}
\end{proof}






%end of lecture 8

\subsection{Lecture 9}

\begin{lemma}\label{lemma 1}
    Let \( f:[a,b] \to \R  \) be a bounded function. Let \( P = \{  {x}_{0}, {x}_{1}, \dots, {x}_{n} \}  \) be a partition of \( [a,b] \). Then 
    \[  \forall 1 \leq k \leq n \ \ \sup_{s,t \in [{x}_{k-1}, {x}_{k}]} | f(s) -f(t) | = {M}_{k } -{m}_{k }. \]
\end{lemma}
\begin{proof}
Let \( k \in \{  1, 2 , \dots, n \}  \). We need to show
\begin{enumerate}
    \item[(1)] \( \forall s,t \in [{x}_{k-1}, {x}_{k}] \) \( | f(s) - f(t) |  \leq {M}_{k } - {m}_{k} \).
    \item[(2)] \( \forall \epsilon >0  \), \( \exists \hat{s} \hat{t} \in [{x}_{k-1}, {x}_{k}]  \) such that \( {M}_{k } - {m}_{k } - \epsilon < | f(\hat{s}) - f(\hat{t}) |  \). 
\end{enumerate}
Note that we have already shown (1) in our discussion of {\hyperref[Rudin 6.7]{Theorem 6.7}}. 

Let \( \epsilon > 0  \) be given. Then we have
\begin{align*}
    {m}_{k } = \inf_{t \in [{x}_{k-1}, {x}_{k}]} f(t) &\implies \hat{t} \in [{x}_{k-1}, {x}_{k}] \ \text{such that} \ f(\hat{t}) < {m}_{k } + \frac{ \epsilon }{ 2 }  \\
    {M}_{k }  = \sup_{t \in [{x}_{k-1}, {x}_{k}]} f(t) &\implies \hat{s} \in [{x}_{k-1}, {x}_{k}] \ \text{such that} \ {M}_{k }  - \frac{ \epsilon }{ 2 }  < f(\hat{s}).
\end{align*}
Adding the inequalities above, we get
\[  {M}_{k } - {m}_{k } - \epsilon < f(\hat{s}) - f(\hat{t}) \leq | f(\hat{s}) - f(\hat{t}) |. \]
\end{proof}

\begin{theorem}[Rudin 6.8]\label{Rudin 6.8}
    Let \( f:[a,b] \to \R  \) be a continuous function and \( \alpha: [a,b] \to \R  \) is an increasing function. Then \( f \in {R}_{\alpha}[a,b] \). 
\end{theorem}

\begin{proof} 
    Since \( f: [a,b] \to \R  \) is a continuous function and \( [a,b]  \) is compact, it follows from the Extreme Value Theorem that \( f  \) is bounded on \( [a,b] \). Now, according to the Cauchy Criterion for Riemann-Stieltjes integrability, it suffices to show that 
    \[  \forall \epsilon > 0 \ \exists P \in \Pi  \ \text{such that} \ U(f,\alpha,P) - L(f,\alpha,P) < \epsilon. \tag{*}\]
    Let \( \epsilon > 0  \) be given. By the same reasoning that showed \( f  \) is bounded on \( [a,b] \), it follows that \( f  \) is uniformly continuous on \( [a,b] \). For the given \( \epsilon  \), there exists a \( \delta > 0  \) such that for all \( s,t \in [a,b] \):
    \[  \text{if} \ | s - t  |  < \delta \ \text{then} \ | f(s) - f(t) | < \frac{ \epsilon }{  2 [\alpha(b) - \alpha(a) + 1 ] }. \]
    Let \( P = \{  {x}_{0}, {x}_{1}, \dots, {x}_{n} \}  \) be any partition of \( [a,b] \) such that \( \|P\| < \delta \). We claim (*) holds for such a partition. Indeed, for all \( k \in \{  1, 2, \dots, n  \}  \) and for all \( s,t \in [{x}_{k-1}, {x}_{k}] \), if \( | s-  t  |  < \delta \), then
    \[  | f(s) - f(t) |  < \frac{ \epsilon }{ 2 [\alpha(b) - \alpha(a) + 1 ] }. \]
    Hence, 
    \[  \sup_{s,t \in [{x}_{k-1}, {x}_{k}]} | f(s) - f(t) |  \leq \frac{ \epsilon }{ 2 [\alpha(b) - \alpha(a) + 1] }. \]
    Thus, 
    \[  {M}_{k } - {m}_{k } \leq \frac{ \epsilon }{ 2 [\alpha(b) - \alpha(a) + 1] }. \]
    Therefore, 
    \begin{align*}
        U(f,\alpha,P) - L(f,\alpha,P) &= \sum_{ k=1  }^{ n } ({M}_{k } - {m}_{k}) \Delta {\alpha}_{k } \\
                                      &\leq \sum_{ k=1  }^{ n } \frac{ \epsilon }{  2 [\alpha(b)- \alpha(a) + 1] }  \Delta {\alpha}_{k } \\
                                      &= \frac{ \epsilon }{ 2 [\alpha(b) - \alpha(a) + 1] }  \sum_{ k=1  }^{ n } \Delta {\alpha}_{k } \\
                                      &= \frac{ \epsilon }{ 2 [\alpha(b) - \alpha(a) + 1] }  \cdot [\alpha(b) - \alpha(a)] \\
                                      &\leq \frac{ \epsilon }{ 2 }  \\
                                      &< \epsilon
    \end{align*}
    as desired.


\end{proof}

\begin{lemma}\label{lemma 2}
    Let \( \alpha:[a,b] \to \R  \) be an increasing and continuous function and \( \alpha(a) < \alpha(b) \). Then for each \( n \in \N \), there exists a partition \( P = \{  {x}_{0}, {x}_{1}, \dots, {x}_{n} \}  \) such that   
    \[  \forall 1 \leq k \leq n \ \ \Delta \alpha_k = \alpha({x}_{k}) - \alpha({x}_{k-1}) = \frac{ \alpha(b) - \alpha(a) }{  n  }. \]
\end{lemma}
\begin{proof}
    Let \( n \in \N \). Divide the interval \( [\alpha(a), \alpha(b)] \) into \( n  \) subintervals of equal length: \( \frac{ \alpha(b) - \alpha(a) }{ n  }  \). For each \( 1 \leq k \leq n  \), we have \( {y}_{k } \in (\alpha(a), \alpha(b)) \). Hence, the Intermediate Value Theorem implies that 
    \[  \exists {x}_{k } \in (a,b) \ \text{such that} \ {y}_{k } = \alpha({x}_{k}). \]
    Since \( \alpha  \) is increasing, we have 
    \[  a = {x}_{0} < {x}_{1} < {x}_{2} < \cdots < {x}_{n} = b.   \]
    This tells us that \( P = \{  {x}_{0},{x}_{1}, \dots, {x}_{n} \}  \) will be partition of \( [a,b] \) such that
    \[  \forall 1 \leq k \leq n  \ \ \Delta {\alpha}_{k } = \alpha({x}_{k}) - \alpha({x}_{k-1}) = {y}_{k } - {y}_{k-1} = \frac{ \alpha(b) - \alpha(a) }{ n }. \]
\end{proof}

%end of lecture 9




